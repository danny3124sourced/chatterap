import{r as m,e as w,d as j,g as v,f as y,h as P,u as T,b as B,j as t,T as k,B as D,M as N}from"./index-98068710.js";import{P as A,a as L}from"./PostLoader-5613e46c.js";import{c as p}from"./url-c3cb67a6.js";import"./calculateReadingTime-adebe942.js";const E=()=>{const[c,a]=m.useState([]),[s,i]=m.useState(!0),n=w(),{userInfo:e}=j(),u=async()=>{i(!0);try{const{articles:l}=await v();let d;d=l.filter(o=>{var r;return(r=o==null?void 0:o.bookmarks)==null?void 0:r.includes(e==null?void 0:e.uid)});const g=d.sort((o,r)=>{const x=new Date(o.createdAt);return new Date(r.createdAt).getTime()-x.getTime()}),b=await Promise.all(g.map(async o=>{const r=new Date(o.createdAt),h=new Date().getTime()-r.getTime(),f=await y(o.author.authorId);return{...o,createdAgo:P(h),author:f}}));a(b),i(!1)}catch(l){console.log("Error fetching posts:",l),i(!1)}};return m.useEffect(()=>{u()},[n,e==null?void 0:e.uid]),{bookmarkedPosts:c,loading:s}},M=()=>{const{loading:c,bookmarkedPosts:a}=E(),{theme:s}=T(),i=B();return!c&&a.length===0?t.jsx("div",{className:"flex flex-col items-center mx-3 justify-center h-[50vh]",children:t.jsxs("div",{className:` p-2 flex flex-col drop-shadow-xl  items-center justify-center max-w-[800px] h-[200px] rounded-md
               ${s==="lightMode"?"bg-white-50 text-black-950":s==="darkMode"&&"bg-gray-800 text-white-100"}
               `,children:[t.jsx(k,{variant:1,className:"text-2xl mobileXL:text-xl ms-1 font-bold mb-3 px-8 pt-8 mobileXL:px-2 ",children:"No bookmarked posts"}),t.jsx(D,{className:`bg-pink-600 text-white-100 font-bold text-xl px-8 py-2 rounded-md
                        ${s==="lightMode"?"hover:bg-pink-700":s==="darkMode"&&"hover:bg-pink-500"}
                        `,onClick:()=>i("/explore"),children:"Explore posts"})]})}):t.jsx("div",{children:t.jsx("div",{children:c&&a.length===0?[...Array(10)].map((n,e)=>t.jsx(A,{},e)):t.jsxs("div",{children:[" ",t.jsx(k,{variant:1,className:"text-3xl mobileXL:text-xl ms-1 font-bold mb-3 px-8 pt-8 mobileXL:px-2 ",children:"Bookmark Posts"}),a.map(n=>{const{id:e}=n;return t.jsx(L,{post:n},e)})]})})})};function _(){return t.jsxs(t.Fragment,{children:[t.jsx(N,{title:"Chatter | Bookmarks",ogTitle:"Explore posts on our platform",description:"Bookmark your favourite posts and view them later",image:p,url:"/bookmark",twitterTitle:"Share your creativity with the world",twitterDescription:"Bookmark your favourite posts and view them later",twitterImage:p,twitterCard:"summary_large_image",ogType:"website",href:"/bookmark"}),t.jsx("section",{className:" bg-white-100",children:t.jsx("div",{className:" ms-[250px] tabletS:ms-0 pt-24  ",children:t.jsx(M,{})})})]})}export{_ as default};
