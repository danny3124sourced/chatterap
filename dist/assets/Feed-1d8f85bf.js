import{r as d,c as f,d as P,b as C,j as t,u as L,T as N,L as p,M as k}from"./index-98068710.js";import{P as S,a as E}from"./PostLoader-5613e46c.js";import{c as g}from"./url-c3cb67a6.js";import"./calculateReadingTime-adebe942.js";const j=d.createContext({}),T=({children:s})=>{const{posts:r}=f(),{userInfo:e,loading:o}=P(),[i,v]=d.useState([]),[F,c]=d.useState(!0),b=C();return d.useEffect(()=>{if(e){c(!0);const n=e==null?void 0:e.tags,w=r.filter(a=>{var l,x,m,h,u;return((l=a.tagList)==null?void 0:l.some(y=>n==null?void 0:n.includes(y)))||((x=a.author)==null?void 0:x.uid)===(e==null?void 0:e.uid)||((m=a.likeCounts)==null?void 0:m.includes(e==null?void 0:e.uid))||((h=a.bookmarks)==null?void 0:h.includes(e==null?void 0:e.uid))||((u=a.comments)==null?void 0:u.includes(e==null?void 0:e.uid))});v(w),c(!1)}},[e,r,b]),t.jsx(j.Provider,{value:{userFeed:i,loading:o,isLoading:F},children:s})},U=()=>{const s=d.useContext(j);if(s===void 0)throw new Error("useFetchFeed must be used within a FetchUserFeedPostContext");return s},M=()=>{const{isLoading:s,userFeed:r}=U(),{theme:e}=L();return t.jsxs("div",{children:[s?t.jsx("div",{children:[...Array(5)].map((o,i)=>t.jsx(S,{},i))}):t.jsx("div",{children:r.map(o=>{const{id:i}=o;return t.jsx("div",{children:t.jsx(E,{post:o},i)},i)})}),r.length===0&&!s&&t.jsx("div",{className:"flex flex-col items-center justify-center h-[50vh] mx-3",children:t.jsx("div",{className:` drop-shadow-xl p-2 flex flex-col items-center justify-center max-w-[800px] h-[200px] rounded-md
                ${e==="lightMode"?"bg-white-50 text-black-950":e==="darkMode"&&"bg-gray-800 text-white-100"}
                `,children:t.jsxs(N,{variant:1,className:"text-2xl text-center mobileXL:text-xl mobileL:text-base ms-1 font-semibold mb-3 px-8 pt-8 mobileXL:px-2 ",children:["No Posts matching your interests. Go to"," ",t.jsxs(p,{className:"text-pink-600 hover:underline",to:"/settings",children:[" ","Settings"," "]}),"and add some interests or",t.jsxs(p,{to:"/explore",className:"text-pink-600 hover:underline",children:[" ","Explore posts"]})]})})})]})};function G(){return t.jsxs(T,{children:[t.jsx(k,{title:"Chatter | Feed",ogTitle:"Explore posts on our platform",description:"Stay updated on latest post based on your interests",image:g,url:"/feed",twitterTitle:"Share your creativity with the world",twitterDescription:"Stay updated on latest post based on your interests",twitterImage:g,twitterCard:"summary_large_image",ogType:"website",href:"/feed"}),t.jsx("section",{className:" bg-white-100 ",children:t.jsx("div",{className:" ms-[250px] tabletS:ms-0 pt-24  ",children:t.jsx(M,{})})})]})}export{G as default};
