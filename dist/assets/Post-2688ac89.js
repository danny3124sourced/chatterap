import{P as C,m as T,y as k,s as D,Q as u,u as E,a as I,r as i,b as S,j as e,M as _,v as B,T as g,w as F,B as x,x as L,z as O}from"./index-98068710.js";import{g as U}from"./getUserArticles-7cc0fc51.js";import{c as p}from"./url-c3cb67a6.js";const X=async(r,t)=>{const n=C(T);try{await k(D(n,"users",r,"article",t)),u.success("Article deleted successfully",{position:"top-right",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,draggable:!0})}catch{u.error("Error deleting article")}};function R(){const{theme:r}=E(),{user:t}=I(),[n,l]=i.useState([]),[c,d]=i.useState(!1),[m,o]=i.useState(!1),[j,v]=i.useState(""),y=S(),f=()=>{o(!1)},b=s=>{o(!m),v(s)},h=async()=>{try{d(!0);const s=await U(t==null?void 0:t.uid);l(s),d(!1)}catch(s){console.log(s)}},w=async s=>{try{await X(t==null?void 0:t.uid,s),h()}catch(a){console.log(a)}};return i.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(_,{title:"Chatter ",ogTitle:"Manage your Posts",description:"Manage your posts on our inclusive platform. Post diverse content, connect with like-minded individuals",image:p,url:"/settings/post",twitterTitle:"Manage your Posts",twitterDescription:"Manage your posts on our inclusive platform. Post diverse content, connect with like-minded individuals",twitterImage:p,twitterCard:"summary_large_image",ogType:"website",href:"/settings/post"}),e.jsxs("div",{className:` transition p-4 me-8  tabletL:ms-8 tabletXS:mx-4 duration-500 mb-4 rounded-md border border-gray-300 ease-in-out ${r==="lightMode"?"bg-white-50 text-black-950":r==="darkMode"&&"bg-gray-800 text-white-100"} `,children:[e.jsx("div",{children:e.jsx(B,{isOpen:m,onClose:f,onYes:()=>w(j),onNo:()=>o(!1),children:e.jsx("p",{children:"Do you want to delete this Post?"})})}),e.jsxs("div",{children:[e.jsx("div",{className:" border-b border-gray-300 mb-4 ",children:e.jsx(g,{variant:1,className:"font-bold text-2xl mobileXL:text-lg p-4",children:"My Posts"})}),n.length===0&&!c?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(g,{variant:1,className:"text-lg",children:"No posts yet"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center font-semibold",children:[e.jsx("div",{className:"me-3 w-[50%]",children:"Posts"}),e.jsx("div",{className:"me-3  w-[30%]",children:"Date"}),e.jsx("div",{className:"me-3 w-[20%]",children:"Actions"})]}),c?[...Array(5)].map((s,a)=>e.jsxs("div",{className:"flex items-center mt-8",children:[e.jsx("div",{className:"me-3 w-[50%] h-8 bg-gray-300 animate-pulse",children:" "}),e.jsx("div",{className:"me-3  w-[30%] h-8  bg-gray-300 animate-pulse"}),e.jsx("div",{className:"me-3 w-[20%] h-8 bg-gray-300 animate-pulse"})]},a)):e.jsx("div",{children:n.map(s=>{const{id:a,data:N}=s,{title:P,createdAt:A,slug:M}=N;return e.jsxs("div",{className:"flex items-center mt-8",children:[e.jsx("div",{className:"me-3 w-[50%]",children:P}),e.jsx("div",{className:"me-3 w-[30%]",children:F(A)}),e.jsxs("div",{className:"me-3 w-[20%] inline-flex items-center",children:[e.jsx(x,{onClick:()=>b(a),title:"delete post",role:"button",className:"text-red-600 cursor-pointer toggle-button",children:e.jsx(L,{})}),e.jsx(x,{onClick:()=>y(`/preview/${M.split(" ").join("_")}`),title:"Preview post",role:"button",className:"text-green-600 cursor-pointer",children:e.jsx(O,{className:"ms-2"})})]})]},a)})})]})]})]})]})}export{R as default};
