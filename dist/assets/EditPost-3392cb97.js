import{A as y,D as f,r as o,d as v,b as x,j as i,M as P,E as b,H as j,Q as D,J as U}from"./index-98068710.js";import{M as E}from"./Preview-7446034d.js";import"./handleCustomImageUpload-144b4e62.js";import{c as d}from"./url-c3cb67a6.js";function k(){const{id:s}=y(),{article:c,setArticle:n,clearArticle:l}=f(),[a,u]=o.useState([]),{userInfo:t}=v(),h=x(),p=async()=>{try{if(t.uid){const e=await b(t==null?void 0:t.uid);u(e)}}catch(e){console.log(e)}};o.useEffect(()=>{p()},[s,t==null?void 0:t.uid]);const r=a==null?void 0:a.find(e=>e.id===s);o.useEffect(()=>{if(r){const{data:e}=r;n(e)}},[r,s,n]);const g=async()=>{console.log("handleUpdate");try{await j(t==null?void 0:t.uid,s,c),D.success("Draft updated successfully",{position:"top-center",autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){console.log(e)}},m=async()=>{setTimeout(()=>{h("/settings/post")},2e3)},w=async()=>{try{await U(t==null?void 0:t.uid,c),await m(),l()}catch(e){console.log(e)}};return i.jsxs(i.Fragment,{children:[i.jsx(P,{title:"Chatter | Write",ogTitle:"Share your creativity with the world",description:"Share your creativity with the world on our inclusive platform. Post diverse content, connect with like-minded individuals",image:d,url:"/write/edit",twitterTitle:"Share your creativity with the world",twitterDescription:"Share your creativity with the world on our inclusive platform. Post diverse content, connect with like-minded individuals",twitterImage:d,twitterCard:"summary_large_image",ogType:"website",href:"/write/edit"}),i.jsx("section",{className:"pt-32 bg-white-100",children:i.jsx("div",{children:i.jsx(E,{onUpdate:g,onPublish:w,mode:"update"})})})]})}export{k as default};
