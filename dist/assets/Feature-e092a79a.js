import{r as c,e as j,g as w,f as P,h as y,j as t,T as F,M as T}from"./index-98068710.js";import{P as D,a as A}from"./PostLoader-5613e46c.js";import{c as m}from"./url-c3cb67a6.js";import"./calculateReadingTime-adebe942.js";const v=()=>{const[s,o]=c.useState([]),[a,e]=c.useState(!0),f=j(),g=async()=>{e(!0);try{const{articles:i}=await w();let d;d=i.filter(r=>r.featured===!0);const h=d.sort((r,n)=>{const l=new Date(r.createdAt);return new Date(n.createdAt).getTime()-l.getTime()}),p=await Promise.all(h.map(async r=>{const n=new Date(r.createdAt),u=new Date().getTime()-n.getTime(),x=await P(r.author.authorId);return{...r,createdAgo:y(u),author:x}}));o(p),e(!1)}catch(i){console.log("Error fetching posts:",i),e(!1)}};return c.useEffect(()=>{g()},[f]),{featuredPosts:s,loading:a}},b=()=>{const{featuredPosts:s,loading:o}=v();return t.jsxs("div",{children:[t.jsx(F,{variant:1,className:"text-3xl mobileXL:text-xl ms-1 font-bold mb-3 px-8 pt-8 mobileXL:px-2 ",children:"Featured Posts"}),t.jsx("div",{children:o&&s.length===0||!o&&s.length===0?t.jsx("div",{children:[...Array(5)].map((a,e)=>t.jsx(D,{},e))}):t.jsx("div",{children:s.map(a=>{const{id:e}=a;return t.jsx("div",{children:t.jsx(A,{post:a},e)},e)})})})]})};function N(){return t.jsxs(t.Fragment,{children:[t.jsx(T,{title:"Chatter | Featured",ogTitle:"Featured posts on our platform",description:"Analytics of your posts",image:m,url:"/featured",twitterTitle:"Share your creativity with the world",twitterDescription:"Featured posts on our platform",twitterImage:m,twitterCard:"summary_large_image",ogType:"website",href:"/featured"}),t.jsx("section",{className:" bg-white-100  ",children:t.jsx("div",{className:" ms-[250px] tabletS:ms-0 pt-24  ",children:t.jsx(b,{})})})]})}export{N as default};
